function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"c6c3cdf7ea834f3b97e885b245c9a87f"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsInN0b3AiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBR1RBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFFL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzFDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxxQ0FHUmIsRUFBT2MsR0FBRyxhQUFhLFNBQVVDLEdBQ3pCLE9BQU9DLEtBQUtELEVBQUVWLE9BR2xCWSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3pCLEVBQ1RHLFVBQWFBLEdBRWpCdUIsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3ZCLEVBQU95QixTQUFTVixFQUFFVixLQUFLbUIsUUFFdkJFLE9BQU9DLFdBQVdDLFNBQVNMLEVBQWdCLFNBQzNDdkIsRUFBTzZCLFFBR2ZDLEtBQVEsU0FBVUMsR0FDZEMsUUFBUUMsSUFBSUYsU0FNaEN4QyxhQUFhQyxVQUFVMEMsSUFBTSxXQUN6QkMsS0FBSzFDLGNBSVRFLEVBQUUsWUFDcUIsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoXCIjdmlkZW8taW5mb1wiKTtcclxuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcblxyXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcclxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgICAgIGZpbGU6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcclxuICAgICAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMTAwLFxyXG4gICAgICAgICAgICBjb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBBY2Nlc3NLZXlcclxuICAgICAgICAgICAgYWs6ICdjNmMzY2RmN2VhODM0ZjNiOTdlODg1YjI0NWM5YTg3ZidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JyxmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdmYWlsJzogZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KTtcclxuIl19
